# PKCS #1 v2.0 signing a file hash in Go

---
```
Language: Go
Brief: Create a hash of a file and sign it with an RSA key
Scope: 
Tags: crpyto
State: completed
Result: 
```
---

Continuation from day_21. Take one aspect and try to get that working.

Just the loading of RSA keys, reading a file and making a hash, signing the hash and verifying the hash

### Results

---

Worked. Better than yesterday. 

Go documentation still seems kind of strangely obtuse. Official documentation does not really explain much and there are a lot of out of date or otherwise incorrect code examples.


### If I was to do more

---
This is pretty much all i wanted to do today.

### Notes

---

### Example 

---

Mismatched keys *poop* 
```azure
GOROOT=/usr/local/go #gosetup
GOPATH=/Users/pickard/projects/100_days_of_code_2022/local/go-path #gosetup
/usr/local/go/bin/go build -o /private/var/folders/6m/h4gzwp_n73v0m0l0550st65c0000gn/T/GoLand/___go_build_sha1signedfilehash_go /Users/pickard/projects/100_days_of_code_2022/day_22/sha1signedfilehash.go #gosetup
/private/var/folders/6m/h4gzwp_n73v0m0l0550st65c0000gn/T/GoLand/___go_build_sha1signedfilehash_go
PEM Block headers:  map[DEK-Info:AES-128-CBC,EC427719C4A149272E960231777CF5E6 Proc-Type:4,ENCRYPTED]
Looks encrypted
Enter passphrase: foobar
[158382675833538239860255872775725410313082924466202275230258123876962055468976447468287487069123098722714221297198253077077830005856616049891605669358612426685631757254958407935094975916865977852733222487553056827039472442935798662486970735130420620319319297919724867916416512084021875001516597565118660015121 153510543310129769669343379253346136758676543035339615089737859611820605374988610020701658303026445910346485058417278543959854887310346455159562465763728924980031123227626993958850968940100729191308950333889940837442006268218455786550585832655919191526778350223233159710504718870546913073488435980223931480087]
File hash dccfd63d990b382f4b72df077d8c39bfed6a30e7
Signature 36e951f3be0007f6c232e6db237c0bd49396bba740fb7a8124a88ee02943d7c541b2c80bb7fee110961962aa3069d1d2d22136313f5fe64a97b003421d2721ba4c9f393d721d977c11e8f8f487fb042246848d5cf6f2904c33fc00ad05c2b53e490fa5510241c28398a6fb0f2bc1d85a35f77d56d4d0a2f5d787c0cef7363f6c36938ae26a4bb816af7d657aefad94b2cf0078beea469d88a93ef36d47bd971f1dc48155b454ce6071e5e307db2c3e94545abe83e6ee9ac4eb0fc3ec101c435dad504485ec02102785932acd6ccd0ed8f2d6c00523f739cbdd5979326097272b1b31cb12b9dec86ce953d54dce1dcf0aaae37f46551a873e139c7757de915c93
Signature len 256


poop
Process finished with the exit code 0

```

Matching keys *not poop*
```azure
GOROOT=/usr/local/go #gosetup
GOPATH=/Users/pickard/projects/100_days_of_code_2022/local/go-path #gosetup
/usr/local/go/bin/go build -o /private/var/folders/6m/h4gzwp_n73v0m0l0550st65c0000gn/T/GoLand/___go_build_sha1signedfilehash_go /Users/pickard/projects/100_days_of_code_2022/day_22/sha1signedfilehash.go #gosetup
/private/var/folders/6m/h4gzwp_n73v0m0l0550st65c0000gn/T/GoLand/___go_build_sha1signedfilehash_go
PEM Block headers:  map[]
[175543634942916881514813690412510497925818113865764542811349023195149876899920022216840559258771820503565157680684409962178540613519590138582063340358964472451698976734641678571244723488158342629065206840743388322465177096502302496423477089530616712238501119561445268182268595863052413956529238110116343484993 156637568140841174157226193010840595206203724467236905814704572217171313644875190954054931335715799911122616248709622913750993880890051189507446029912248379011412375059414106774653110302589596821646604983124229658120584279784234467731025284881948010521633256924817204700362443594100822164785558408885529916187]
File hash dccfd63d990b382f4b72df077d8c39bfed6a30e7
Signature 9163f58ad55544a23f660635cff9f1d802fbff9e7e8623d0bb4a483e668873ae814be44a0dccc09b02e32e7dc76b319176f16140b362346d70bff16d8a59adcd3c70283717c34ce431a2e97af9635aa25c6746b8c435ed2122979589ef4a9a14916aec311c13893dc4bfe1ce644d8cabb7d986e9d1725ef4a534a65c447b16b964feb40102b484b08358d74a2f41da6987caaa12d6044d8bc034fb373e5eb4fce7c0e60116964b9f531b4fe4823b2f9e185a826a4daa52b6a58dadf3d918e4dea29245a7316c67179976092d0371b61e61180669d167b9487d50d0ed9923b9640609dc9a2eeb6feb82b254683a3b20b107c0042388c521cc46df2cf450405d4a
Signature len 256


not poop
Process finished with the exit code 0

```